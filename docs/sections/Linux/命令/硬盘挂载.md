# Linux硬盘挂载

在 Linux 中，挂载是把某个存储设备或文件系统接入到已经存在的目录结构中的过程。我们可以将这个过程比喻成在文件系统树中“钉一个钩子”，你可以通过这个“钩子”访问到存储设备中的文件和目录。这个“钩子”的位置就被称为挂载点。

## 一、查看硬盘和分区

在开始挂载硬盘前，你需要了解你的系统中有哪些硬盘和分区。你可以使用以下命令来查看：

1. 使用 `lsblk` 命令来列出所有可用的块设备：

```bash
lsblk
```

2. 使用 `fdisk` 命令来查看硬盘和分区。这个命令需要 root 权限来运行：

```bash
sudo fdisk -l
```

## 二、查看挂载状态

要查看哪个设备挂载到了哪个目录，你可以使用 `mount` 命令。这个命令会列出系统中所有已经挂载的文件系统：

```bash
mount
```

你也可以通过查看 `/etc/fstab` 文件来查看系统启动时会自动挂载哪些设备。这个文件中每一行都描述了一个文件系统，包括设备名，挂载点，文件系统类型等信息。

## 三、硬盘分区

在开始挂载硬盘前，你需要确保你已经正确地分区了硬盘。分区是硬盘的一个独立部分，每个分区都有自己的文件系统。Linux 提供了一些工具来进行分区，如 `fdisk`，`cfdisk`，`parted`等。

## 四、创建挂载点

挂载点是一个空目录，用于作为接入文件系统的入口。你可以使用`mkdir`命令来创建一个新的挂载点。例如：

```bash
sudo mkdir /mnt/mydisk
```

这将在 `/mnt` 目录下创建一个新的目录 `mydisk` 作为挂载点。

## 五、挂载硬盘

一旦你确定了分区并创建了挂载点，你就可以挂载硬盘了。你可以使用 `mount` 命令来进行挂载。例如：

```bash
sudo mount /dev/sdb1 /mnt/mydisk
```

这个命令将设备 `/dev/sdb1`（通常是第二块硬盘的第一个分区）挂载到 `/mnt/mydisk` 目录。

## 六、开机自动挂载

编辑 /etc/fstab 文件可以设置开机自动挂载。每行的格式如下：

```bash
<file system> <mount point>   <type>  <options>       <dump>  <pass>
```

例如：

```bash
/dev/sdb1       /mnt/mydisk   ext4    defaults        0       2
```

在上面的例子中，`/dev/sdb1` 是文件系统，`/mnt/mydisk` 是挂载点，`ext4` 是文件系统类型，`defaults` 表示使用默认的挂载选项，`0` 是 dump 备份设置（一般设为0），最后的 `2` 表示启动时的检查顺序（一般根文件系统设为1，其他设为2）。

## 七、卸载硬盘

你可以使用 `umount` 命令来卸载硬盘。例如：

```bash
sudo umount /mnt/mydisk
```

这个命令会将 `/mnt/mydisk` 目录下的设备卸载。记住，在你试图卸载一个文件系统之前，必须先确保没有任何进程在使用该文件系统，否则卸载可能会失败。

注意：所有的操作都需要 root 权限，如果你没有 root 权限，需要使用 `sudo` 命令来获取。