# Linux概述

## 一、操作系统概述

操作系统（Operating System，简称 OS）是一种控制和管理计算机硬件与软件资源，为用户和其他软件提供服务的系统软件。它是计算机系统中最基本、最重要的软件之一，是计算机系统中的“管理者”。

操作系统的主要任务是负责管理计算机的硬件和软件资源，包括处理器、内存、磁盘、输入输出设备等。它可以实现多任务处理，即使多个程序同时运行，也可以保证它们之间的资源不冲突。操作系统还提供了一个用户界面，让用户能够与计算机进行交互，使用计算机资源，完成各种任务。

操作系统的核心组成部分是内核（Kernel），它是操作系统的核心代码，提供了操作系统的基本功能，包括进程管理、内存管理、文件系统管理、设备驱动程序等。内核是操作系统中最重要的部分，也是最复杂的部分。

现代操作系统的种类很多，包括Windows、Linux、macOS等。每种操作系统都有其独特的设计和实现方式，但它们都有相同的目标：为用户和应用程序提供方便、高效、可靠的计算机环境。

## 二、单用户操作系统和多用户操作系统

### 1. 单用户操作系统

指一台计算机在同一时间 只能由一个用户 使用，一个用户独自享用系统的全部硬件和软件资源

Windows XP之前的版本都是单用户操作系统

### 2.多用户操作系统

指一台计算机在同一时间可以由多个用户使用，多个用户共同享用系统的全部硬件和软件资源

Unix和Linux的设计初衷就是多用户操作系统


## 三、 Linux系统介绍

Linux是一套免费使用和自由传播的类Unix操作系统，是一个基于POSIX的多用户、多任务、支持多线程和多CPU的操作系统，继承了Unix以网络为核心的设计思想，是一个性能稳定的多用户网络操作系统。

Linux操作系统诞生于1991 年10 月5 日（这是第一次正式向外公布时间）。Linux存在着许多不同的Linux版本，但它们都使用了Linux内核。Linux可安装在各种计算机硬件设备中，比如手机平板电脑、路由器、视频游戏控制台、台式计算机、大型机和超级计算机。

严格来讲，Linux这个词本身只表示Linux内核，但实际上人们已经习惯了用Linux来形容整个基于Linux内核，并且使用GNU工程各种工具和数据库的操作系统。



### 1. Linux内核及发行版

Linux内核是一个开源的操作系统内核，由Linus Torvalds创造并维护，它的源代码可以免费获取和修改。Linux内核最初是为个人计算机设计的，但是现在已经广泛应用于服务器、移动设备、嵌入式系统等领域。

Linux发行版（Distribution）是基于Linux内核的操作系统，由内核、系统工具、应用程序和图形用户界面等组成。Linux发行版通常包含一个包管理器，用于管理和安装软件包。每个发行版都有不同的目标和设计理念，所以它们的特点和功能也各不相同。

以下是一些常见的Linux发行版：

1. Ubuntu：基于Debian的发行版，注重易用性和用户体验，拥有丰富的软件库和社区支持。
2. Debian：一款基于社区开发的发行版，以稳定性和可靠性著称，拥有强大的软件库和社区支持。
3. Fedora：由Red Hat公司赞助的发行版，注重最新技术和创新，适合开发者和高级用户。
4. CentOS：由Red Hat公司开发的免费版本，主要用于服务器和企业环境。
5. Arch Linux：一款面向高级用户的发行版，提供最小化的系统，用户可以自由地定制和配置系统。
6. openSUSE：由Novell公司赞助的发行版，注重易用性和稳定性，拥有丰富的软件库和社区支持。

这只是Linux发行版的一小部分，还有许多其他的发行版可供选择。

### 2.  Linux主要特征

**基本思想**

 Linux的基本思想有两点：第一，一切都是文件；第二，每个软件都有确定的用途。其中第一条详细来讲就是系统中的所有都归结为一个文件，包括命令、硬件和软件设备、操作系统、进程等等对于操作系统内核而言，都被视为拥有各自特性或类型的文件。至于说Linux是基于Unix的，很大程度上也是因为这两者的基本思想十分相近。

**完全免费**

Linux是一款免费的操作系统，用户可以通过网络或其他途径免费获得，并可以任意修改其源代码。这是其他的操作系统所做不到的。正是由于这一点，来自全世界的无数程序员参与了Linux的修改、编写工作，程序员可以根据自己的兴趣和灵感对其进行改变，这让Linux吸收了无数程序员的精华，不断壮大。

**完全兼容POSIX1.0标准** 

这使得可以在Linux下通过相应的模拟器运行常见的DOS、Window的程序。这为用户从Windows转到Linux奠定了基础。许多用户在考虑使用Linux时，就想到以前在Windows下常见的程序是否能正常运行，这一点就消除了他们的疑虑。

**多用户、多任务** 

Linux支持多用户，各个用户对于自己的文件设备有自己特殊的权利，保证了各用户之间互不影响。多任务则是现在电脑最主要的一个特点，Linux可以使多个程序同时并独立运行。

**良好的界面**

Linux同时具有字符界面和图形界面。在字符界面用户可以通过键盘输入相应的指令来进行操作。它同时也提供了类似Windows图形界面的X-Window系统，用户可以使用鼠标对其进行操作。在X-Window环境中就和在Windows中相似，可以说是一个Linux版的Windows。

**支持多种平台** 

Linux可以运行在多种硬件平台上，如具有x86、680x0、SPARC、Alpha等处理器的平台。此外Linux还是一种嵌入式操作系统，可以运行在掌上电脑、机顶盒或游戏机上。2001年1月份发布的Linux 2.4版内核已经能够完全支持Intel 64位芯片架构。同时Linux也支持多处理器技术。多个处理器同时工作，使系统性能大大提高

### 3. Linux启动流程

- 加载BIOS(Basic Input Output System)：BIOS是系统启动时加载的第一个软件。

  - 启动上电自检POST(Power-On-Self-Test)，负责完成对CPU、主板、内存、软硬盘子系统、显示子系统（包括显示缓存）、串并行接口、键盘、CD-ROM光驱等的检测，主要检查硬件的好坏。
  - 对外部设备进行初始化，读取BIOS参数，并和实际的硬件进行比较，如果不符合，会影响系统启动。
  - 查找MBR(Master Boot Record,主引导分区)。如果未找到，会提示找不到硬盘。

- 读取主引导分区(MBR):拷贝启动引导代码BootLoader

- 启动引导代码(bootloader):当我们的硬盘上有多个操作系统时，可以用来选择进入到哪个操作系统。

- 加载内核，进入操作系统：运行第一个程序 : /sbin/init

  - sbin/init 会读取相关的配置文件，来确定系统的运行级别。
    - 0： 关机
    - 1 ： 单用户模式
    - 2 ： 无网络支持的多用户模式
    - 3 ： 有网络支持的多用户模式
    - 4 ： 保留，未使用
    - 5 ： 有网络支持，且有图形化界面的多用户模式
    - 6 ： 重启
    - 切换运行级别： init 级别
  - 根据对应的运行级别，查找对应的脚本文件。例如，运行5级别，查找 /etc/rc5.d目录，启动该目录下的相关服务。
    - 这些文件夹下的init脚本都有一些特别的名字，命名都以S（start）、K（kill）或D（disable）开头，后面跟一个数字。当init进入一个运行等级的时候，它会按照数字顺序运行所有以K开头的脚本并传入stop参数，除非对应的init脚本在前一个运行等级中没有启动。然后init按照数字顺序运行所有以S开头的脚本并传入start参数。任何以D开头的init脚本都会被忽略—这让你可以在指定的运行等级禁止一个脚本，或者你也可以仅仅移除全部符号链接。
  - 解析用户自定义的启动脚本：/etc/rc.local（如果存在的话）
  - 进入用户界面。





## 四、计算机中文件大小的表示方式

| 单位 |      英文      |                      含义                       |
| :--: | :------------: | :---------------------------------------------: |
| 字节 |   B（Byte）    | 在计算机中作为一个数字单元，一般为 8 位二进制数 |
|  千  | K（Kibibyte）  |    1 KB = 1024 B，千字节 （1024 = 2 ** 10）     |
|  兆  | M（Mebibyte）  |            1 MB = 1024 KB，百万字节             |
| 千兆 | G（Gigabyte）  |       1 GB = 1024 MB，十亿字节，千兆字节        |
|  太  | T（Terabyte）  |        1 TB = 1024 GB，万亿字节，太字节         |
|  拍  | P（Petabyte）  |       1 PB = 1024 TB，千万亿字节，拍字节        |
|  艾  |  E（Exabyte）  |       1 EB = 1024 PB，百亿亿字节，艾字节        |
|  泽  | Z（Zettabyte） |      1 ZB = 1024 EB，十万亿亿字节，泽字节       |
|  尧  | Y（Yottabyte） |      1 YB = 1024 ZB，一亿亿亿字节，尧字节       |



## 五、文件系统

操作系统中，用来管理和存储文件信息的软件机构称为文件管理系统，简称文件系统。具体来说，这部分系统就是负责为用户建立、读取、修改和转储文件，控制文件的存取，当用户不再使用时撤销文件等。

### 1. FAT16

MS-DOS6.X及以下版本使用。每个磁盘的分区最大只能达到2G，并且会浪费很多空间。在FAT16里有簇的概念，就相当于是图书馆里一格一格的书架，每个要存到磁盘的文件都必须配置足够数量的簇，才能存放到磁盘中，每个文件，无论大小，都至少要使用一个簇在保存。

FAT16各分区与簇大小的关系如下表：

| 分区大小      | FAT16簇大小 |
| ------------- | ----------- |
| 16MB-127MB    | 2KB         |
| 128MB-255MB   | 4KB         |
| 256MB-511MB   | 8KB         |
| 512MB-1023MB  | 16KB        |
| 1024MB-2047MB | 32KB        |

### 2. FAT32

Windows95以后的系统都支持。

FAT32具有一个最大的优点：在一个不超过8GB 的分区中，FAT32分区格式的每个簇容量都固定为4KB，与FAT16相比，可以大大地减少磁盘的浪费，提高磁盘利用率。

突破了FAT16对每一个分区的容量只有2GB的限制，可以将一整个大硬盘定义成一个分区而不必分为几个分区使用，方便了对磁盘的管理。但是，FAT32里，无法存放大于4GB的单个文件，而且容易产生磁盘碎片，性能不佳。

另外，FAT不支持长文件名，只能支持8个字符，而且后缀名最多只支持3个字符。

### 3. NTFS

WindowsNT系列设计，用来取代FAT系统。每个簇的空间更小，磁盘的利用率更高，并且可以共享资源、文件夹以及对文件设置访问许可权限。

### 4. RAW

RAW文件系统是一种磁盘未经处理或者未格式化产生的文件系统。一般来说有这几种可能造成正常文件系统变成RAW文件系统：

- 没有格式化
- 格式化中途取消
- 硬盘出现坏道
- 硬盘出现不可预知的错误

### 5. EXT

EXT是扩展文件系统，目前最新的版本是5.0.

### 6. HFS(+)

苹果电脑上的文件系统。

### 7. Linux里的文件系统

不同于Windows系统有盘符的概念(C盘、D盘等)，Linux里只有一个盘符，是从 " / " 开始的，只有它是没有上级目录的。如果把整个应用目录系统看成一个树形结构。

在根目录里，有以下几个一级文件夹或文件

|               目录                |                             说明                             |
| :-------------------------------: | :----------------------------------------------------------: |
|                 /                 | 系统的根目录<br />一般根目录下只存放目录，在 linux 下有且只有一个根目录，所有的东西都是从这里开始 <br /> 当在终端里输入 `/home`，其实是在告诉电脑，先从 `/`（根目录）开始，再进入到 `home` 目录 |
|          /bin、/usr/bin           | bin 是 Binaries (二进制文件) 的缩写，包含了一些二进制文件，即可执行文件。我们在命令行里执行的指令，例如 ls,rm,cp,mv等，其实都是执行的这个目录里的二进制文件。 |
|               /boot               | 放置系统启动相关时所需的文件(勿动) ，如 linux 的内核文件：`/boot/vmlinuz`，系统引导管理器：`/boot/grub` |
|               /dev                | 设备文件，其中许多都是在启动时或运行时生成的。例如，如果你将新的网络摄像头连接到机器中，会自动弹出一个新的设备条目，常用的是挂载光驱`mount /dev/cdrom /mnt` |
|               /etc                | etc 是 Etcetera(等等) 的缩写,用来存放所有的系统管理所需要的配置文件和子目录。(会经常使用) |
|               /home               | 用户的主目录，每一个用户都有自己的目录，所有的用户都存放在home目录下。 |
|  /lib、/usr/lib、/usr/local/lib   | 用来存放系统最基本的动态连接共享库，程序在执行过程中，需要调用一些额外的参数时需要函数库的协助 |
|            /lost+found            | 这个目录一般情况下是空的，系统异常产生错误时，会将一些遗失的片段放置于此目录下 |
|              /media               | Linux系统自动识别的一些设备，比如U盘、光驱等，当识别后，linux会把识别的设备挂载到这个目录下。 |
|               /mnt                | 系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将光盘挂载在/mnt/上，然后进入到该目录就可以查看光驱里的内容了。 mount /dev/cdrom /mnt/ umount /mnt/ |
|               /opt                | 给额外安装软件所摆放的目录。比如你安装一个ORACLE数据库就可以把它放到这个目录下 |
|               /proc               | 虚拟目录，它是系统内存的映射，可以通过直接访问这个目录来获取系统信息。 此目录的数据都在内存中，如系统核心，外部设备，网络状态，由于数据都存放于内存中，所以不占用磁盘空间，比较重要的文件有：/proc/cpuinfo、/proc/interrupts、/proc/dma、/proc/ioports、/proc/net/* 等 |
|               /root               |                    系统管理员root的家目录                    |
|               /run                | 是一个临时文件，存储系统启动以来的信息，当系统重启时，这个目录下的文件会被删除。 |
| /sbin、/usr/sbin、/usr/local/sbin | 放置系统管理员使用的可执行命令，如 fdisk、shutdown、mount 等。与 /bin 不同的是，这几个目录是给系统管理员 root 使用的命令，一般用户只能"查看"而不能设置和使用 |
|               /srv                | 存放一些服务启动之后需要提取的数据，如 www 服务需要访问的网页数据存放在 /srv/www 内 |
|               /sys                |                         映射内核设备                         |
|               /tmp                | 一般用户或正在执行的程序临时存放文件的目录，任何人都可以访问，重要数据不可放置在此目录下 |
|               /usr                |    非常重要的目录，用来存放用户安装的应用程序和用户文件。    |
|               /var                |            经常修改的数据，比如程序运行的日志文件            |

- “ ~ ” 表示的当前用户的家目录

- Linux **文件** 或者 **目录** 名称最长可以有 `256` 个字符
- 以 `.` 开头的文件为隐藏文件，需要用 -a 参数才能显示
- **.** 代表当前目录
- **..** 代表上一级目录

